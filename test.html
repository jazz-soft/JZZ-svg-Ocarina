<!DOCTYPE html>
<html>
<head>
<title>JZZ.gui.Ocarina test</title>
<script src="node_modules/jzz/javascript/JZZ.js"></script>
<script src="node_modules/jzz-synth-tiny/javascript/JZZ.synth.Tiny.js"></script>
<script src="node_modules/jzz-input-kbd/javascript/JZZ.input.Kbd.js"></script>
<script src="javascript/JZZ.gui.Ocarina.js"></script>
<style>
#ocarina {display:inline-block;width:300px;}
</style>
</head>

<body>
<h1>JZZ.gui.Ocarina test</h1>
<div><span id=ocarina></span></div>
<span id=piano></span>

<script>
var svg_grid = `<g fill="white" stroke="#ccc" stroke-width="0.01">
<line x1="0" y1="0" x2="1" y2="0"/><line x1="0" y1="0" x2="0" y2="1"/>
<line x1="0" y1="0.1" x2="1" y2="0.1"/><line x1="0.1" y1="0" x2="0.1" y2="1"/>
<line x1="0" y1="0.2" x2="1" y2="0.2"/><line x1="0.2" y1="0" x2="0.2" y2="1"/>
<line x1="0" y1="0.3" x2="1" y2="0.3"/><line x1="0.3" y1="0" x2="0.3" y2="1"/>
<line x1="0" y1="0.4" x2="1" y2="0.4"/><line x1="0.4" y1="0" x2="0.4" y2="1"/>
<line x1="0" y1="0.5" x2="1" y2="0.5"/><line x1="0.5" y1="0" x2="0.5" y2="1"/>
<line x1="0" y1="0.6" x2="1" y2="0.6"/><line x1="0.6" y1="0" x2="0.6" y2="1"/>
<line x1="0" y1="0.7" x2="1" y2="0.7"/><line x1="0.7" y1="0" x2="0.7" y2="1"/>
<line x1="0" y1="0.8" x2="1" y2="0.8"/><line x1="0.8" y1="0" x2="0.8" y2="1"/>
<line x1="0" y1="0.9" x2="1" y2="0.9"/><line x1="0.9" y1="0" x2="0.9" y2="1"/>
<line x1="0" y1="1" x2="1" y2="1"/><line x1="1" y1="0" x2="1" y2="1"/></g>`;
var holes = [
  [.4, .21, .018],
  [.5, .2, .018],
  [.5, .3, .018],
  [.5, .4, .018],
  [.5, .5, .014],
  [.5, .6, .018],
  [.49, .693, .011],
  [.515, .707, .01],
  [.49, .793, .011],
  [.515, .807, .01],
];
var chart = [
  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], // c
  [0, 1, 2, 3, 4, 5, 6, 7, 8],
  [0, 1, 2, 3, 4, 5, 6, 7],       // D
  [0, 1, 2, 3, 4, 5, 6],
  [0, 1, 2, 3, 4, 5],             // E
  [0, 1, 2, 3, 4, 6, 7, 8, 9],    // F
  [0, 1, 2, 3, 5, 6, 7],
  [0, 1, 2, 3],                   // G
  [0, 1, 2, 4, 5, 6],
  [0, 1, 2],                      // A
  [0, 1, 3, 4],
  [0, 1],                         // B
  [0, 2],                         // C
];

JZZ.synth.Tiny.register('Web Audio');
var piano = JZZ.input.Kbd({at: 'piano' });
var ocarina = JZZ.gui.Ocarina({ at: 'ocarina', back: svg_grid, holes: holes, chart: chart });
piano.connect(ocarina);
</script>

<p>
<a href=https://jazz-soft.net>https://jazz-soft.net</a>
</p>

</body>
</html>